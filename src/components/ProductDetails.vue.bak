<template>
  <div class="anatiny">
    <div class="left">
      <img :src="products.image" :alt="products.name" />
    </div>
    <div class="details">
      <h1>{{ products.name }}</h1>
      <h4>{{ products.description }}</h4>
      <p>{{ Math.round(products.price * 200) }}Ariary</p>
      <button @click="this.$parent.$emit('addItem', products)">Hividy</button>
    </div>
  </div>
</template>

<script>
export default {
  props: ['id'],
  emits: ['addItem'],
  data() {
    return {
      products: null,
    }
  },
  created() {
    fetch(`http://localhost:3000/items/${this.id}`)
      .then((response) => response.json())
      .then((data) => {
        this.products = data
      })
  },
}
</script>

<style lang="scss" scoped>
.anatiny {
  margin-top: 200px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 500px;
  width: 90%;
}
.left {
  flex: 2;
  width: 300px;
  height: 500px;
  border: 1px solid #273238;
  margin: 10px 20px;
  padding: 20px 20px;

  img {
    width: 300px;
    height: 500px;
  }
}
.details {
  flex: 3;
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  align-items: center;
  height: 500px;
  & p {
    font-size: 18px;
  }
  button {
    padding: 10px 20px;
    background-color: #273238;
    border: none;
    border-radius: 10px;
    width: 40%;
    margin-bottom: 50px;
    color: white;
    font-size: 16px;
    &:hover {
      background-color: cadetblue;
      transform: scale(1.02);
    }
    &:active {
      transform: translateY(10px);
    }
  }
}
</style>
